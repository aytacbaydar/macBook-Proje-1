<div class="konu-anlatim-container">
  <div class="kontrol-paneli">
    <h2 class="baslik">Konu Anlatım Tahtası</h2>

    <div class="arac-grubu cizim-araclari">
      <div class="renk-secici">
        <button (click)="hizliRenkSec('#FF0000')" class="renk-btn kirmizi" [class.aktif]="kalemRengi === '#FF0000'" title="Kırmızı"></button>
        <button (click)="hizliRenkSec('#0000FF')" class="renk-btn mavi" [class.aktif]="kalemRengi === '#0000FF'" title="Mavi"></button>
        <button (click)="hizliRenkSec('#00AA00')" class="renk-btn yesil" [class.aktif]="kalemRengi === '#00AA00'" title="Yeşil"></button>
        <button (click)="hizliRenkSec('#000000')" class="renk-btn siyah" [class.aktif]="kalemRengi === '#000000'" title="Siyah"></button>
      </div>

      <button (click)="kalemModunuAc()" class="btn-modern" [class.aktif]="!silgiModu && cizilebilir">
        <i class="ikon">✏️</i> Kalem
      </button>

      <button (click)="toggleCizim()" class="btn-modern" [class.aktif]="!cizilebilir">
        <i class="ikon">👆</i> İmleç {{cizilebilir ? 'Modu' : 'Modu'}}
      </button>

      <div class="kalem-boyutu">
        <label for="kalemBoyutu">Kalınlık:</label>
        <select id="kalemBoyutu" [(ngModel)]="kalemKalinligi" (change)="ayarlaKalemOzellikleri()" class="boyut-secici">
          <option [value]="2">İnce (2px)</option>
          <option [value]="4">Normal (4px)</option>
          <option [value]="8">Kalın (8px)</option>
          <option [value]="12">Çok Kalın (12px)</option>
          <option [value]="16">Ekstra Kalın (16px)</option>
        </select>
      </div>

      <button (click)="silgiModunuAc()" class="btn-modern" [class.aktif]="silgiModu">
        <i class="ikon">🧹</i> Silgi
      </button>

      <button (click)="temizleSayfa()" class="btn-modern temizle">
        <i class="ikon">🗑️</i> Sayfayı Temizle
      </button>
    </div>

    <div class="arac-grubu sayfa-kontrolleri">
      <button (click)="sayfaEkle()" class="btn-modern">
        <i class="ikon">➕</i> Yeni Sayfa
      </button>
    </div>

    <div class="arac-grubu kaydetme-bolumu">
      <select [(ngModel)]="secilenGrup" class="grup-secici">
        <option value="" disabled selected>Öğrenci Grubu Seçin</option>
        <option *ngFor="let grup of ogrenciGruplari" [value]="grup">{{ grup }}</option>
      </select>
      <button (click)="veritabaninaKaydet()" [disabled]="!secilenGrup || kaydetmeIsleminde" class="btn-modern kaydet">
        <i class="ikon">💾</i> {{ kaydetmeIsleminde ? 'Kaydediliyor...' : 'Veritabanına Kaydet' }}
      </button>
      <button (click)="indirPDF()" [disabled]="kaydetmeIsleminde" class="btn-modern indir">
        <i class="ikon">📥</i> {{ kaydetmeIsleminde ? 'İşleniyor...' : 'PDF İndir' }}
      </button>
    </div>
  </div>

  <div class="calisma-alani">
    <div class="beyaz-tahta-container">
      <div *ngFor="let sayfa of sayfalar; let i = index" [class.aktif-sayfa]="currentPage === i + 1" class="beyaz-tahta">
        <canvas [id]="'canvas-' + (i + 1)" class="drawing-canvas"></canvas>
      </div>
    </div>
  </div>

  <div class="sayfa-navigasyon">
    <div class="footer-content">
      <button (click)="sayfaBas()" class="btn-modern btn-sayfa">
        <i class="ikon">⏮️</i> İlk Sayfa
      </button>
      <button (click)="oncekiSayfa()" class="btn-modern btn-sayfa" [disabled]="currentPage <= 1">
        <i class="ikon">◀️</i> Önceki
      </button>
      <span class="sayfa-bilgisi">Sayfa {{ currentPage }} / {{ totalPages }}</span>
      <button (click)="sonrakiSayfa()" class="btn-modern btn-sayfa" [disabled]="currentPage >= totalPages">
        <i class="ikon">▶️</i> Sonraki
      </button>
      <button (click)="sayfaSon()" class="btn-modern btn-sayfa">
        <i class="ikon">⏭️</i> Son Sayfa
      </button>
    </div>
  </div>
</div>